import{r as u,I as C,j as e,k as U,l as _,m as K,o as V,p as J,q as W}from"./index-DtE9KJs9.js";var Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"};function M(){return M=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},M.apply(this,arguments)}const G=(n,a)=>u.createElement(C,M({},n,{ref:a,icon:Q})),Y=u.forwardRef(G);var Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M686.7 638.6L544.1 535.5V288c0-4.4-3.6-8-8-8H488c-4.4 0-8 3.6-8 8v275.4c0 2.6 1.2 5 3.3 6.5l165.4 120.6c3.6 2.6 8.6 1.8 11.2-1.7l28.6-39c2.6-3.7 1.8-8.7-1.8-11.2z"}}]},name:"clock-circle",theme:"outlined"};function T(){return T=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},T.apply(this,arguments)}const ee=(n,a)=>u.createElement(C,T({},n,{ref:a,icon:Z})),te=u.forwardRef(ee);var se={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"};function L(){return L=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},L.apply(this,arguments)}const ae=(n,a)=>u.createElement(C,L({},n,{ref:a,icon:se})),re=u.forwardRef(ae);var ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z"}}]},name:"edit",theme:"outlined"};function z(){return z=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},z.apply(this,arguments)}const le=(n,a)=>u.createElement(C,z({},n,{ref:a,icon:ne})),ce=u.forwardRef(le);var ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M464 720a48 48 0 1096 0 48 48 0 10-96 0zm16-304v184c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V416c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8zm475.7 440l-416-720c-6.2-10.7-16.9-16-27.7-16s-21.6 5.3-27.7 16l-416 720C56 877.4 71.4 904 96 904h832c24.6 0 40-26.6 27.7-48zm-783.5-27.9L512 239.9l339.8 588.2H172.2z"}}]},name:"warning",theme:"outlined"};function R(){return R=Object.assign?Object.assign.bind():function(n){for(var a=1;a<arguments.length;a++){var r=arguments[a];for(var c in r)Object.prototype.hasOwnProperty.call(r,c)&&(n[c]=r[c])}return n},R.apply(this,arguments)}const oe=(n,a)=>u.createElement(C,R({},n,{ref:a,icon:ie})),de=u.forwardRef(oe);function ue({isLoading:n,items:a,selected:r,onSelectedChange:c,onEdit:i,onFiltersChange:x,allCountries:h}){const[s,d]=u.useState([]),[o,S]=u.useState([]),[y,P]=u.useState([]),v=t=>{c(r.includes(t)?r.filter(m=>m!==t):[...r,t])},j=()=>{r.length===a.length?c([]):c(a.map(t=>t.id))},b=u.useMemo(()=>a,[a]),N=t=>{const m=t.status??s,O=t.types??o,k=t.countries??y;d(m),S(O),P(k),x({status:m,types:O,countries:k})};return e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[e.jsxs("div",{className:"p-4 border-b border-gray-200 flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"وضعیت:"}),["online","offline","testing","unknown"].map(t=>e.jsx("button",{onClick:()=>N({status:s.includes(t)?s.filter(m=>m!==t):[...s,t]}),className:`px-2.5 py-1 rounded-md text-sm border ${s.includes(t)?"bg-blue-50 border-blue-200 text-blue-700":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:t==="online"?"آنلاین":t==="offline"?"آفلاین":t==="testing"?"درحال تست":"نامشخص"},t))]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"نوع:"}),["HTTP","HTTPS","SOCKS4","SOCKS5"].map(t=>e.jsx("button",{onClick:()=>N({types:o.includes(t)?o.filter(m=>m!==t):[...o,t]}),className:`px-2.5 py-1 rounded-md text-sm border ${o.includes(t)?"bg-blue-50 border-blue-200 text-blue-700":"border-gray-200 text-gray-600 hover:bg-gray-50"}`,children:t},t))]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"کشور:"}),e.jsx("select",{multiple:!0,value:y,onChange:t=>N({countries:Array.from(t.target.selectedOptions).map(m=>m.value)}),className:"min-w-[160px] max-w-[240px] px-2 py-1 border border-gray-200 rounded-md",children:h.map(t=>e.jsx("option",{value:t,children:t},t))})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 bg-gray-50",children:[e.jsx("th",{className:"p-3 text-right",children:e.jsx("input",{type:"checkbox",checked:r.length===b.length&&b.length>0,onChange:j})}),e.jsx("th",{className:"p-3 text-right",children:"IP"}),e.jsx("th",{className:"p-3 text-right",children:"پرت"}),e.jsx("th",{className:"p-3 text-right",children:"نوع"}),e.jsx("th",{className:"p-3 text-right",children:"وضعیت"}),e.jsx("th",{className:"p-3 text-right",children:"تأخیر"}),e.jsx("th",{className:"p-3 text-right",children:"آخرین تست"}),e.jsx("th",{className:"p-3 text-right",children:"کشور"}),e.jsx("th",{className:"p-3 text-right",children:"برچسب‌ها"}),e.jsx("th",{className:"p-3 text-right",children:"عملیات"})]})}),e.jsx("tbody",{children:n?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"p-6 text-center text-gray-500",children:"در حال بارگذاری..."})}):b.length===0?e.jsx("tr",{children:e.jsx("td",{colSpan:10,className:"p-10 text-center text-gray-500",children:"موردی یافت نشد"})}):b.map(t=>e.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[e.jsx("td",{className:"p-3",children:e.jsx("input",{type:"checkbox",checked:r.includes(t.id),onChange:()=>v(t.id)})}),e.jsx("td",{className:"p-3 font-mono text-sm",children:t.ip}),e.jsx("td",{className:"p-3",children:t.port}),e.jsx("td",{className:"p-3",children:t.type}),e.jsxs("td",{className:"p-3",children:[t.status==="online"&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-green-700",children:[e.jsx(Y,{})," آنلاین"]}),t.status==="offline"&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-red-700",children:[e.jsx(re,{})," آفلاین"]}),t.status==="testing"&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-yellow-700",children:[e.jsx(te,{})," درحال تست"]}),t.status==="unknown"&&e.jsxs("span",{className:"inline-flex items-center gap-1 text-gray-600",children:[e.jsx(de,{})," نامشخص"]})]}),e.jsx("td",{className:"p-3",children:t.lastLatencyMs?`${t.lastLatencyMs} ms`:"-"}),e.jsx("td",{className:"p-3",children:t.lastTestedAt?new Date(t.lastTestedAt).toLocaleString("fa-IR"):"-"}),e.jsx("td",{className:"p-3",children:t.country||"-"}),e.jsx("td",{className:"p-3",children:e.jsx("div",{className:"flex flex-wrap gap-1",children:(t.labels||[]).map(m=>e.jsx("span",{className:"px-2 py-0.5 text-xs bg-blue-50 text-blue-700 rounded",children:m},m))})}),e.jsx("td",{className:"p-3",children:e.jsxs("button",{onClick:()=>i(t),className:"text-blue-600 hover:text-blue-700 inline-flex items-center gap-1",children:[e.jsx(ce,{})," ویرایش"]})})]},t.id))})]})})]})}function xe({open:n,onOpenChange:a,initial:r,onSubmit:c}){const[i,x]=u.useState({ip:"",port:8080,type:"HTTP",labels:[],timeoutMs:5e3,anonymity:"unknown"});if(u.useEffect(()=>{if(r){const{id:s,status:d,...o}=r;x({ip:o.ip,port:o.port,type:o.type,...o.username?{username:o.username}:{},...o.password?{password:o.password}:{},...o.country?{country:o.country}:{},...o.region?{region:o.region}:{},labels:o.labels||[],...o.timeoutMs?{timeoutMs:o.timeoutMs}:{},...o.lastLatencyMs?{lastLatencyMs:o.lastLatencyMs}:{},...o.lastTestedAt?{lastTestedAt:o.lastTestedAt}:{},anonymity:o.anonymity||"unknown"})}},[r]),!n)return null;const h=async s=>{if(s.preventDefault(),!i.ip||!/^\d{1,3}(?:\.\d{1,3}){3}$/.test(i.ip))return alert("IP معتبر وارد کنید");if(!i.port||i.port<1||i.port>65535)return alert("پرت معتبر نیست");await c(i)};return e.jsx("div",{className:"fixed inset-0 z-50 bg-black/40 flex items-center justify-center p-4",role:"dialog","aria-modal":"true",children:e.jsxs("div",{className:"bg-white rounded-xl shadow-xl w-full max-w-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between px-5 py-4 border-b border-gray-200",children:[e.jsx("h3",{className:"text-lg font-semibold",children:r?"ویرایش پروکسی":"افزودن پروکسی"}),e.jsx("button",{onClick:()=>a(!1),"aria-label":"Close",children:e.jsx(X,{})})]}),e.jsxs("form",{onSubmit:h,className:"p-5 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"IP"}),e.jsx("input",{value:i.ip,onChange:s=>x(d=>({...d,ip:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"پرت"}),e.jsx("input",{type:"number",value:i.port,onChange:s=>x(d=>({...d,port:parseInt(s.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",min:1,max:65535,required:!0})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"نوع"}),e.jsx("select",{value:i.type,onChange:s=>x(d=>({...d,type:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:["HTTP","HTTPS","SOCKS4","SOCKS5"].map(s=>e.jsx("option",{value:s,children:s},s))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"نام کاربری"}),e.jsx("input",{value:i.username||"",onChange:s=>x(d=>({...d,username:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"گذرواژه"}),e.jsx("input",{type:"password",value:i.password||"",onChange:s=>x(d=>({...d,password:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"کشور"}),e.jsx("input",{value:i.country||"",onChange:s=>x(d=>({...d,country:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"استان/منطقه"}),e.jsx("input",{value:i.region||"",onChange:s=>x(d=>({...d,region:s.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"برچسب‌ها (با , از هم جدا کنید)"}),e.jsx("input",{value:(i.labels||[]).join(","),onChange:s=>x(d=>({...d,labels:s.target.value.split(",").map(o=>o.trim()).filter(Boolean)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium mb-1",children:"Timeout (ms)"}),e.jsx("input",{type:"number",value:i.timeoutMs??5e3,min:1e3,max:6e4,onChange:s=>x(d=>({...d,timeoutMs:parseInt(s.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-3 border-t border-gray-200",children:[e.jsx("button",{type:"button",onClick:()=>a(!1),className:"px-4 py-2 rounded-lg border border-gray-300",children:"انصراف"}),e.jsx("button",{type:"submit",className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:"ذخیره"})]})]})]})})}function me(){const{data:n}=U(),a=_(),[r,c]=u.useState(null),i=r||n,x=s=>{c(d=>({...d||n,...s}))},h=async()=>{i&&(await a.mutateAsync(i),c(null))};return i?e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4",children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-900 mb-3 inline-flex items-center gap-2",children:[e.jsx(RotateCw,{size:16})," تنظیمات چرخش پروکسی"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"استراتژی"}),e.jsxs("select",{value:i.strategy,onChange:s=>x({strategy:s.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg",children:[e.jsx("option",{value:"sequential",children:"Sequential"}),e.jsx("option",{value:"random",children:"Random"}),e.jsx("option",{value:"roundrobin",children:"Round-robin"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"فاصله زمانی (ثانیه)"}),e.jsx("input",{type:"number",min:0,value:i.intervalSeconds,onChange:s=>x({intervalSeconds:parseInt(s.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"تعداد درخواست به ازای هر پروکسی"}),e.jsx("input",{type:"number",min:1,value:i.requestsPerProxy,onChange:s=>x({requestsPerProxy:parseInt(s.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"آستانه خطا"}),e.jsx("input",{type:"number",min:1,value:i.failureThreshold,onChange:s=>x({failureThreshold:parseInt(s.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"مدت نشست چسبنده (ثانیه)"}),e.jsx("input",{type:"number",min:0,value:i.stickySessionSeconds,onChange:s=>x({stickySessionSeconds:parseInt(s.target.value)}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{onClick:h,className:"px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700",children:"ذخیره تنظیمات"})})]})]}):e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 text-sm text-gray-500",children:"در حال بارگذاری تنظیمات چرخش..."})}function ge(){const[n,a]=u.useState(""),[r,c]=u.useState([]),[i,x]=u.useState([]),[h,s]=u.useState([]),[d,o]=u.useState([]),[S,y]=u.useState(!1),[P,v]=u.useState(null),{data:j,refetch:b,isLoading:N}=K({query:n,status:r,types:i,countries:h}),t=V(),m=J(),O=W(),k=u.useMemo(()=>Array.from(new Set((j||[]).map(l=>l.country).filter(Boolean))),[j]),E=()=>{v(null),y(!0)},A=l=>{v(l),y(!0)},F=async()=>{for(const l of d)await m.mutateAsync(l);o([]),b()},B=async l=>{const p=await l.text();await O.mutateAsync(p),b()},H=async l=>{const p=l.ip&&l.port?`${l.ip}:${l.port}`:`proxy-${Date.now()}-${Math.random().toString(36).slice(2,8)}`;await t.mutateAsync({id:p,ip:l.ip,port:l.port,type:l.type,username:l.username??"",password:l.password??"",country:l.country??"",region:l.region??"",labels:l.labels||[],timeoutMs:l.timeoutMs??5e3,status:l.status||"unknown",lastLatencyMs:l.lastLatencyMs??0,lastTestedAt:l.lastTestedAt??new Date,anonymity:l.anonymity??"unknown"}),y(!1),v(null),b()},$=async l=>{const p=(j||[]).filter(g=>(!n||`${g.ip}:${g.port}`.includes(n))&&(!r.length||r.includes(g.status))&&(!i.length||i.includes(g.type))&&(!h.length||g.country&&h.includes(g.country))),f=l==="json"?JSON.stringify(p,null,2):p.map(g=>`${g.ip}:${g.port}${g.country?`,${g.country}`:""}`).join(`
`),q=new Blob([f],{type:l==="json"?"application/json":"text/plain;charset=utf-8"}),I=URL.createObjectURL(q),w=document.createElement("a");w.href=I;const D=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");w.download=`proxies_${D}.${l}`,document.body.appendChild(w),w.click(),w.remove(),URL.revokeObjectURL(I)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"مدیریت پروکسی"}),e.jsx("p",{className:"text-gray-600",children:"پیکربندی، تست و چرخش پروکسی‌ها با پشتیبانی کامل"})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1 min-w-[240px]",children:[e.jsx(Search,{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),e.jsx("input",{value:n,onChange:l=>a(l.target.value),placeholder:"جستجو (IP، کشور، برچسب)",className:"w-full pr-9 pl-4 py-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),e.jsxs("button",{onClick:E,className:"inline-flex items-center gap-2 bg-blue-600 text-white px-4 py-2.5 rounded-lg hover:bg-blue-700",children:[e.jsx(Plus,{size:18})," افزودن پروکسی"]}),e.jsxs("label",{className:"inline-flex items-center gap-2 cursor-pointer text-blue-700 hover:text-blue-800",children:[e.jsx(Upload,{size:18}),e.jsx("span",{children:"ورود گروهی"}),e.jsx("input",{type:"file",accept:".txt,.csv",className:"hidden",onChange:l=>{var f;const p=(f=l.target.files)==null?void 0:f[0];p&&B(p)}})]}),e.jsxs("button",{onClick:()=>b(),className:"inline-flex items-center gap-2 text-gray-700 hover:text-gray-900",children:[e.jsx(RefreshCw,{size:18})," بروزرسانی"]}),e.jsxs("div",{className:"relative inline-flex items-center gap-2 ml-auto",children:[e.jsx(Download,{size:18,className:"text-gray-700"}),e.jsx("button",{onClick:()=>$("csv"),className:"text-sm px-2 py-1 rounded border border-gray-200 hover:bg-gray-50",children:"CSV"}),e.jsx("button",{onClick:()=>$("txt"),className:"text-sm px-2 py-1 rounded border border-gray-200 hover:bg-gray-50",children:"TXT"}),e.jsx("button",{onClick:()=>$("json"),className:"text-sm px-2 py-1 rounded border border-gray-200 hover:bg-gray-50",children:"JSON"})]}),e.jsxs("button",{disabled:!d.length,onClick:F,className:"text-red-600 hover:text-red-700 disabled:text-gray-300",children:["حذف انتخاب‌شده‌ها (",d.length,")"]})]}),e.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-3 gap-6",children:[e.jsx("div",{className:"xl:col-span-2",children:e.jsx(ue,{isLoading:N,items:j||[],selected:d,onSelectedChange:o,onEdit:A,onFiltersChange:({status:l,types:p,countries:f})=>{c(l),x(p),s(f)},allCountries:k})}),e.jsx("div",{className:"space-y-6",children:e.jsx(me,{})})]}),S&&e.jsx(xe,{open:S,onOpenChange:y,initial:P,onSubmit:H})]})}export{ge as default};
