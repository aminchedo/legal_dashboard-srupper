const e={},r=(e==null?void 0:e.VITE_API_URL)||"http://localhost:3000/api";async function a(t,o){const s=await fetch(`${r}${t}`,o);if(!s.ok){const n=await s.text().catch(()=>"");throw new Error(`API ${t} failed: ${s.status} ${n}`)}return s.json()}const i={async addOrUpdateProxy(t){await a("/proxy/upsert",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},async addProxyTestResult(t){await a("/proxy/test-result",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})},async listProxyTestResults(t=100){return a(`/proxy/test-results?limit=${t}`)},async updateSiteLastScraped(t){await a("/scraping/site-last-scraped",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({url:t})})}};export{i as d};
